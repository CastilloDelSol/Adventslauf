<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>ZDF – Zahlen, Daten, Fakten</title>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 40px 0;
        background: #ffffff; /* weißer Hintergrund */
        color: #333;
        text-align: center; /* alles zentriert */
    }

    h1.zdf-title {
        font-size: 36px;
        font-weight: 800;
        color: #e2001a;        /* ZDF-Rot wie im Screenshot */
        letter-spacing: 1px;
        margin-bottom: 30px;
        text-transform: uppercase;
    }

    p.description {
        max-width: 700px;
        margin: 0 auto 40px auto;
        font-size: 24px;
        line-height: 1.5;
        color: #555;
    }

    /* Iframe Wrapper */
    .iframe-wrapper {
        max-width: 900px;
        margin: 0 auto 40px auto;
    }

    #statsFrame {
        width: 100%;
        height: 0;          /* dynamisch via JS */
        border: none;
        display: block;
        overflow: hidden;
        border-radius: 6px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.12);
    }

    footer {
        margin-top: 40px;
        font-size: 28px;
        color: #888;
    }
</style>

</head>
<body>

<!-- Beschreibung -->
<p class="description">
    Interaktive Metriken, Statistiken und Analysen rund um den Adventslauf.
    Vollständig dynamisch eingebettet und automatisch in der Höhe angepasst.
</p>

<!-- Titel -->
<h1 class="zdf-title">ZDF – Zahlen, Daten, Fakten …</h1>

<!-- Iframe -->
<div class="iframe-wrapper">
    <iframe
        id="statsFrame"
        src="dev.html"
        loading="lazy"
        style="width:100%;border:none;overflow:hidden;border-radius:6px;min-height:1800px;"
    ></iframe>
</div>

    <!--
<style>
@media (min-width: 768px) {
    #statsFrame {
        min-height: 1200px;
    }
}
</style>
    -->
    
<!-- Footer Hinweis -->
<footer>Eingebettete Statistik – automatisch an Inhaltshöhe angepasst.</footer>

<!-- Resize Listener -->
<script>
const iframe = document.getElementById("statsFrame");

let firstUpdate = true;

window.addEventListener("message", (event) => {
    if (!event.data || event.data.type !== "iframe:resize") return;

    const newHeight = parseInt(event.data.height, 10);
    if (isNaN(newHeight)) return;

    // Beim ersten echten Height-Update: min-height entfernen
    if (firstUpdate) {
        firstUpdate = false;
        iframe.style.minHeight = "0px";   // WICHTIG
    }

    // Danach ganz normal und dynamisch setzen
    iframe.style.height = newHeight + "px";
});
</script>


</body>
</html>
